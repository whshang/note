# Vibe Coding：PM Plan mode vs R&D Direct Write

## 背景

在我们团队，开发流程一直是个瓶颈：
- PM 写 PRD → 堆发 review → 上线
- 产出质量不如直接由研发让 AI 写
- 上下游增加不必要的沟通成本

## 第一次尝试：PM Plan mode

我试过 PM 在 Claude Code 的 Plan mode 下写需求。

### 效果
生成的代码能用，但有几个问题：

1. **缺乏业务上下文**
   PM 在 Plan mode 下，只能描述"想要什么功能"。
   但不知道"为什么需要这个功能"、"这个功能的约束条件"。

2. **缺少迭代机制**
   Plan mode 一次性生成 PRD，没有中间的反馈和调整过程。

3. **上下文消耗大**
   一次性把整个项目的背景都放进来了，导致后续 Code Review 上下文不足。

## 第二次尝试：R&D Direct Write

然后我们试了另一种模式：
- PM 直接用 Claude Code 的"写代码"模式
- 让 Claude 基于业务理解和过往经验，直接写代码

### 效果
明显好了很多：

1. **代码质量更高**
   Claude 能理解"我们团队的技术栈"、"我们的 coding 规范"。
   生成的代码更符合实际情况。

2. **迭代更灵活**
   可以分批次写代码，每批写完就 review，发现问题及时调整。

3. **上下文更聚焦**
   每次只写一个模块，上下文在可控范围内。

## 关键差异对比

| 维度 | PM Plan mode | R&D Direct Write |
|------|---------------|------------------|
| **需求描述方式** | 抽象描述 | 业务理解 |
| **代码生成方式** | 一次性生成 | 分批次生成 |
| **上下文利用** | 低 | 高 |
| **代码质量** | 一般 | 较高 |
| **迭代灵活性** | 低 | 高 |
| **适合场景** | 简单功能 | 复杂模块 |

## 关键发现

PM 在 Plan mode 下，最大的问题是：
- 无法把"为什么要这样做"传递给 AI
- 缺少对技术实现细节的理解

R&D Direct Write 模式下，最大的优势是：
- PM 可以用自然的语言和 Claude 沟通
- Claude 能基于对话历史逐步理解业务
- 遇到问题时，可以当场讨论和调整

## 实践建议

### 对于 PM

1. **不要过度依赖 Plan mode**
   - Plan mode 适合"梳理思路"，不适合"写需求"。
   - 改用直接对话的方式和 Claude 交流需求。

2. **分阶段提供信息**
   - 第一阶段：业务背景、用户痛点、目标
   - 第二阶段：功能列表、优先级
   - 第三阶段：约束条件、技术细节

3. **建立对话历史**
   - Claude Code 会记住之前的对话，这比一次性 PRD 有价值得多。

### 对于研发

1. **不要盲目相信生成的代码**
   - AI 生成的代码可能有 bug，也可能不符合团队规范。
   - 认真 review，不要因为是 AI 生成就放松警惕。

2. **保持技术判断权**
   - 如果生成的代码架构不合理，要敢于推翻。
   - 要让 AI "解释为什么这样设计"，不要只是照做。

3. **利用 AI 的教育价值**
   - 代码 review 时，问 Claude "为什么这里用这个模式而不是那个"。
   - 这比你自己闷头研究可能更快。

## 深度思考

Vibe Coding 的 PM Plan mode vs R&D Direct Write，本质上是：
- **抽象需求 vs 具体实现**
- **一次性输出 vs 分批迭代**
- **PM 想要什么 vs R&D 要怎么做到**

我的建议是：
- PM 要成为"业务理解者"和"技术把关者"。
- 不要让 Plan mode 限制了 Claude 的发挥空间。
- 给 R&D 充分的信息，让他们基于业务判断写出更好的代码。

最终，编程工具只是放大器，真正的价值在于你的思考和决策。
